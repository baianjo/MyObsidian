好的，同学！结合你的课堂笔记图片和之前的录音，我们来重新整理一份更完整、更详细的期末复习笔记。我会以老师的口述内容（STT）为主线，并把你笔记中提到的PPT标题/要点融入其中，确保不遗漏任何按顺序讲解的内容，并特别关注考点、注意事项等。

**重要提示：** 这份笔记是基于你提供的录音（STT）和随堂笔记图片进行的整理。录音本身存在一些不清晰之处，笔记图片也可能并非全部内容。因此，这份整理仍建议你结合课本、完整的PPT和自己的全部课堂笔记进行最终复习。

**这份笔记将按以下结构组织：**

1.  **课程概述与重要事宜** (签到、作业、考试安排、纪律等)
2.  **期末复习核心内容** (按章节/老师讲解顺序梳理知识点，融入你的笔记要点)
3.  **重点题型详解** (老师详细讲解的例题和题型)
4.  **复习建议与难点提醒**

---

**一、 课程概述与重要事宜**

这部分内容与上次整理基本一致，但仍为你完整列出：

1.  **签到与出勤 (Attendance)**
    *   老师提到大部分同学出勤情况良好。
    *   关于补签：之前5月10日有同学因故未签，老师当时的语气似乎暗示补签机会渺茫，但如果有特殊情况，仍建议尝试与老师沟通。
    *   **老师评价：** 整体出勤率不错。

2.  **作业 (Homework)**
    *   **提交情况：**
        *   大部分同学已提交。约有两位同学的平时三次作业可能未按时提交。
        *   若出现提交但未统计到的情况，需及时与老师或学委核实。
    *   **最终提交截止日期：** **5月13日 (周六)**。请务必在此时限前提交所有作业（包括最后一份以及可能需要补交的部分）。
    *   **作业重要性：** 占总成绩的 **40%**。老师期望同学们在这部分拿到高分（例如，目标是36分以上，满分40计）。
    *   **老师评价：** 作业和签到都做好的话，通过课程的基础就比较扎实了。

3.  **考试安排 (Exam Schedule)**
    *   **考试时间：** **5月12日 (周五)** (具体场次时间需关注后续通知)。
    *   **考试地点：** 将设置多个考场（老师举例说可能有三个考场）。

4.  **考试纪律 (Exam Rules)**
    *   **必须携带：** **学生证** 或 **身份证**。
    *   **禁止携带：**
        *   **任何书籍、参考资料、字典 (dictionary)**。老师特别强调，即便是放在旁边不看也不允许，以防作弊嫌疑。
        *   **计算器 (calculator)**。老师认为课程涉及的计算，通过高考数学训练的同学应该可以应对，不需要计算器。
    *   **考试期间：**
        *   **不允许提前交卷。**
        *   **严禁使用手机。**

5.  **评分与成绩 (Grading - 部分提及)**
    *   作业占40%。其余60%应为期末考试成绩（推测）。
    *   老师提到一句关于70-80分段的内容，表述不太清晰，可能指该分数段人数较多，或评分细则。**此处以老师最终公布的评分标准为准。**

---

**二、 期末复习核心内容 (按老师讲解顺序与你的笔记要点整合)**

老师强调，复习时不仅要记住概念，更要能用自己的话解释和应用。

**模块一：计算机系统概览与基础 (对应你笔记P1部分内容)**

*   **1. Classes of Computers (计算机的分类) - 重点**
    *   这是你笔记中的第一个要点: `classes of Computers. 笑+ PMD+ WSC`。结合STT，老师要求掌握的分类：
        1.  **PC机 (Personal Computer)** (你笔记中的“笑”字可能是笔误或代指PC，或服务器Server)
        2.  **服务器 (Server)**
        3.  **超级计算机 (Supercomputer)** (你笔记中的 "WSC" 很可能指 Workstation 或 Supercomputer，老师STT中明确提到了超级计算机)
        4.  **PMD (Personal Mobile Device - 个人移动设备)** (老师STT中提及，例如智能手机、平板电脑等，广义上也属于嵌入式系统范畴)
        5.  **大型主机/企业级服务器 (Mainframes/Enterprise Servers)** (老师STT中提及“阿里巴巴”时可能暗指这类，但也可能指大规模服务器集群)
    *   **考点：** 简答题。可能要求回答4种或6种，务必看清题目要求。
    *   **复习要求：** 了解各类计算机的定义、特点和典型应用场景。

*   **2. Eight Great Ideas (计算机设计中的八个伟大思想) - 重点**
    *   这是你笔记中的要点: `Eight Great ideas.`
    *   老师STT中提到“冯·诺依曼计算机体系结构的特点”以及“工厂和这样的八个”。这“八个”很可能指的就是计算机体系结构中的“八个伟大思想”。
    *   **常见的“八个伟大思想” (源自 Patterson & Hennessy 教材):**
        1.  **Design for Moore's Law (为摩尔定律而设计)**
        2.  **Use Abstraction to Simplify Design (使用抽象简化设计)**
        3.  **Make the Common Case Fast (加速常用操作)**
        4.  **Performance via Parallelism (通过并行提高性能)**
        5.  **Performance via Pipelining (通过流水线提高性能)**
        6.  **Performance via Prediction (通过预测提高性能)**
        7.  **Hierarchy of Memories (存储器层次结构)**
        8.  **Dependability via Redundancy (通过冗余提高可靠性)**
    *   **考点：** 去年考过“给你几句话，让你联想背后的原理”，今年可能以类似形式或直接简述这些思想来考察。
    *   **复习要求：** 深刻理解每个思想的内涵及其在计算机设计中的体现。同时，也要掌握老师STT中强调的**冯·诺依曼体系结构的核心特点**（如存储程序、五大组成部分等）。请务必对照你的PPT，确认老师具体指的是这八个思想还是冯诺依曼的几点特性。

**模块二：指令系统与ARM处理器 (对应你笔记P1部分内容，STT中第二章内容)**

*   **1. Brief History of ARM (ARM发展简史)**
    *   这是你笔记中的要点: `Brief History of Arm(2)`。
    *   STT中没有详细展开ARM历史，但重点讲解了ARM的指令集和设计原则。这部分可能作为背景知识了解，考试重点应在后续的技术细节。

*   **2. Design principles applied to the ARMv8 (应用于ARMv8的设计原则) - 重点**
    *   这是你笔记中的要点: `Design principles applied to the ARMVO.` (VO应为V8)。
    *   老师STT中强调：**ARM处理器（精简指令集RISC）的四个重要原则**。
    *   **考点：** 简答题，可能要求列出并解释这些原则。
    *   **复习要求：** 掌握RISC设计思想，并结合ARMv8的具体特性来理解（例如：固定指令长度、Load/Store结构、大量通用寄存器、延迟转移等）。

*   **3. LEGv8 Registers (ARMv8 寄存器) - 重点**
    *   这是你笔记中的要点: `LEUVS Registers X9-X15 x19-X27 X22` (LEUVS应为LEGv8)。
    *   老师STT中强调：
        *   **理解寄存器用途：** 例如，看到 `X9`，应知道它是64位通用寄存器，常用于参数传递或临时存储。`X19-X27` 是被调用者保存寄存器 (Callee-saved)，`X22` 是其中之一。`X9-X15` 通常用作参数寄存器或临时寄存器 (Caller-saved)。
        *   特殊寄存器：如 `X29` (FP - 帧指针), `X30` (LR - 链接寄存器，用于保存返回地址)。
    *   **考点：** 可能会结合程序片段分析寄存器的使用。
    *   **复习要求：** 熟悉ARMv8主要通用寄存器的编号、位数、以及常用约定（参数传递、返回值、临时变量、被调用者保存等）。

*   **4. More conditional operations (更多条件操作) / 标志位 (Flags) - 重点**
    *   这是你笔记中的要点: `More conditional operations`。
    *   老师STT中强调：**标志位 (Flags Register / Program Status Register - PSR)** 非常重要，因为许多条件转移指令 (如 `CBZ`, `CBNZ`, `B.cond`) 都依赖于这些标志位的状态。
    *   **主要标志位：**
        *   `N` (Negative): 运算结果为负
        *   `Z` (Zero): 运算结果为零
        *   `C` (Carry): 无符号运算产生进位
        *   `V` (Overflow): 有符号运算发生溢出
    *   **考点：** 理解标志位如何被算术逻辑运算设置，以及条件跳转指令如何使用它们。
    *   **复习要求：** 掌握常见指令对标志位的影响及条件跳转的判断逻辑。

*   **5. Procedure Calling (过程调用/子程序调用) - 重点**
    *   这是你笔记中的要点: `procedure Calling.`
    *   老师STT中强调：**调用子程序的简单流程 (6个步骤)**。
    *   **考点：** 简答题，描述调用流程。
    *   **复习要求：**
        1.  理解参数如何传递（通过寄存器或堆栈）。
        2.  返回地址如何保存（通常在LR, 即X30）。
        3.  控制权如何转移（跳转指令）。
        4.  子程序如何执行。
        5.  子程序结果如何返回。
        6.  如何从子程序返回并恢复现场。
        *   老师建议，如果英文术语不熟，先用中文理解和记忆，再对应英文。

*   **6. ISA, API, ABI 的概念 - 重点 (STT提及，未在你笔记标题中)**
    *   老师STT中提到可能考这三个概念的简答题：
        *   **ISA (Instruction Set Architecture - 指令集体系结构)**
        *   **API (Application Programming Interface - 应用编程接口)**
        *   **ABI (Application Binary Interface - 应用二进制接口)**
    *   **复习要求：** 理解并能区分这三个概念的含义和作用。

*   **7. 寄存器使用约定表 (STT提及，未在你笔记标题中)**
    *   老师提到这个表格虽然不直接考简答，但在分析程序时会用到。建议有时间看一下。

**模块三：算术运算与浮点数 (对应你笔记P2部分，STT中第三章内容)**

*   **1. IEEE Floating-point Format (IEEE 浮点数标准) - 重点**
    *   这是你笔记中的要点: `IEEE Floating-point Format`。
    *   老师STT中强调：
        *   **单精度 (Single Precision) 和 双精度 (Double Precision)** 的格式。
        *   **组成部分：**
            *   符号位 (Sign bit): 1位。
            *   阶码 (Exponent): 及其偏移量 (Bias)。
                *   单精度：8位阶码，偏移量 $127$ ($2^{8-1}-1$)。
                *   双精度：11位阶码，偏移量 $1023$ ($2^{11-1}-1$)。
            *   尾数 (Mantissa / Significand):
                *   单精度：23位。
                *   双精度：52位。
        *   **规格化 (Normalization)** 的概念。
        *   **表示范围：** 需要了解。
    *   **考点：** 可能会有数值转换题（十进制转浮点数，或反之），或分析浮点数表示。
    *   **复习要求：** 熟练掌握单精度和双精度浮点数的格式，包括符号位、阶码（含偏移）、尾数的计算和组合。理解规格化、非规格化数、无穷大、NaN等特殊值的表示。
    *   **LaTeX 表示阶码偏移值：**
        *   单精度偏移量 (Bias): $B = 2^{k-1} - 1 = 2^{8-1} - 1 = 127$ (其中 $k=8$ 为阶码位数)。
        *   双精度偏移量 (Bias): $B = 2^{k-1} - 1 = 2^{11-1} - 1 = 1023$ (其中 $k=11$ 为阶码位数)。

**模块四：处理器设计与流水线 (对应你笔记P2部分，STT中第四章内容)**

*   **1. Instruction Execution (指令执行过程)**
    *   这是你笔记中的要点: `Instruction Execution.`
    *   这是一个较宏观的概念，老师STT中通过具体的数据通路和流水线阶段来阐述。
    *   **复习要求：** 理解一条指令从取指到写回的基本步骤（Fetch, Decode, Execute, Memory, Write-back）。

*   **2. Datapath with Control (带控制的数据通路) - 重点，图**
    *   这是你笔记中的要点: `Datapath with Control 图`。
    *   老师STT中强调：
        *   会提供**单周期处理器数据通路图**作为考试时的参考资料。
        *   **必须能看懂图**，理解数据如何在通路中流动，各个部件（如ALU、寄存器堆、存储器）的作用。
        *   作业中有相关练习，目的是帮助理解处理器整体结构。
    *   **考点：** 不一定直接考画图，但会基于图来提问，例如某条指令执行时哪些控制信号有效，数据流经哪些部件。
    *   **复习要求：** 仔细研究PPT和课本上的数据通路图，理解主要指令类型（R型、I型、Load/Store、跳转）在通路上的执行过程和所需控制信号。

*   **3. Five stages (五级流水线) - 重点**
    *   这是你笔记中的要点: `Five stages`。
    *   老师STT中强调：**五级流水线的划分**。
        *   **IF (Instruction Fetch - 取指)**
        *   **ID (Instruction Decode & Register Fetch - 译码与读寄存器)**
        *   **EX (Execute / Address Calculation - 执行或地址计算)**
        *   **MEM (Memory Access - 访存)**
        *   **WB (Write Back - 写回)**
    *   **考点：** 简答题（各阶段功能），或在流水线性能分析题中应用。
    *   **复习要求：** 熟记各阶段名称及其主要任务，了解各阶段可能用到的硬件资源。

*   **4. Pipeline performance (流水线性能)**
    *   这是你笔记中的要点: `Pipeline performance.`
    *   老师STT中将其作为一种**重点题型**进行讲解（详见第三部分“重点题型详解”中的“题型一”）。
    *   **复习要求：** 理解流水线如何提高吞吐率，以及相关的性能计算。

*   **5. Hazards (流水线冒险) - 重要概念**
    *   这是你笔记中的要点: `Hazards`。
    *   STT中老师未将其作为单独的理论考点详细展开，但在讨论流水线性能和控制时是隐含的核心概念。
    *   **类型：**
        *   **结构冒险 (Structural Hazards):** 硬件资源不足。
        *   **数据冒险 (Data Hazards):** 指令之间存在数据依赖，导致需要等待。 (RAW, WAR, WAW)
        *   **控制冒险 (Control Hazards):** 分支指令导致流水线需要暂停或预测。
    *   **复习要求：** 理解各种冒险的成因和常见的解决方法（如暂停stall/bubble、转发forwarding/bypassing、分支预测等）。虽然老师可能不直接考冒险的定义，但理解它是分析流水线性能和控制逻辑的基础。

*   **6. Pipelined Control (Simplified) (流水线控制 - 简化版)**
    *   这是你笔记中的要点: `Pipelined Control (Simplified)`。
    *   老师STT中提到：**控制信号**在流水线中的作用，控制器如何为不同指令在不同阶段生成控制信号。
    *   **复习要求：** 结合数据通路图，理解流水线中每个阶段的控制信号是如何产生的，以及它们如何控制数据流和操作。

**模块五：存储层次结构 (对应你笔记P3部分，STT中第五章内容)**

*   **1. Principle of Locality (局部性原理) - 重点**
    *   这是你笔记中的要点: `Principle of Locality`。
    *   老师STT中强调：
        *   **定义：** 什么是局部性原理？
        *   **原因：** 为什么程序会表现出局部性？
        *   **分类：**
            *   **时间局部性 (Temporal Locality):** 最近被访问的内容很可能再次被访问。
            *   **空间局部性 (Spatial Locality):** 被访问内容的邻近内容很可能被访问。
    *   **考点：** 简答题，解释概念并举例。
    *   **复习要求：** 深刻理解两种局部性的含义及其在存储层次设计中的意义。

*   **2. Associative caches (相联高速缓存) - 重点**
    *   这是你笔记中的要点: `Associative caches spp 料` ("spp 料" 可能指三种映射方式或相关内容)。
    *   老师STT中提到：**Cache 的三种主要映射方式**。
        1.  **直接映射 (Direct Mapped)**
        2.  **全相联映射 (Fully Associative)**
        3.  **组相联映射 (Set-Associative)**
    *   **考点：** 可能有地址映射计算题（详见第三部分“重点题型详解”中的“题型三”），或比较不同映射方式的优缺点。
    *   **复习要求：** 理解每种映射方式的工作原理、地址如何划分（Tag, Index, Offset），以及它们的优缺点（命中率、成本、复杂度）。

*   **3. Disk sectors and Access time (磁盘扇区与访问时间) - 重点**
    *   这是你笔记中的要点: `Disk sectors and Access t 料` ("料" 可能指时间)。
    *   老师STT中强调：**硬盘的访问时间组成**。
        *   **寻道时间 (Seek Time)**
        *   **旋转延迟时间 (Rotational Latency)**
        *   **数据传输时间 (Transfer Time)**
        *   (老师还可能提到了控制器时间和排队时间，但前三者是核心)
    *   **考点：** 简答题，列出并解释各部分时间。
    *   **复习要求：** 理解磁盘的物理结构（盘面、磁道、扇区），以及访问时间的各个组成部分是如何产生的。

**模块六：输入/输出系统 (对应你笔记P3部分，STT中第六章内容)**

*   **1. Buses used to connect CPU and memory (连接CPU和存储器的总线)**
    *   这是你笔记中的要点: `Butes wed to connect cpu memory.` (Butes应为Buses, wed为used)。
    *   老师STT中通过“总线是用来管理外设的方法”引出I/O管理。总线是计算机各部件间通信的桥梁。
    *   **复习要求：** 了解总线的概念、分类（数据总线、地址总线、控制总线）和基本功能。

*   **2. Polling, interrupts, DMA (程序查询、中断、DMA) - 重点**
    *   这是你笔记中的要点: `Polling interrupts DMA`。
    *   老师STT中强调：**I/O 管理方法**。
        1.  **程序查询方式 (Programmed I/O / Polling - 轮询法)**
        2.  **中断驱动方式 (Interrupt-Driven I/O)**
        3.  **直接内存访问方式 (DMA - Direct Memory Access)**
        4.  **(老师还提到了) 通道方式 / IO处理器方式 (Channel / I/O Processor)**
    *   **考点：** 简答题。对每种方式，需要回答：定义、工作原理、优点、缺点。
    *   **复习要求：** 重点掌握前三种方式的机制、效率及适用场景，并能进行对比。

---

**三、 重点题型详解**

这部分内容与上次整理基本一致，但结合你的笔记图片中的例题幻灯片，再次为你详细呈现。

*   **老师强调：PPT里所有跟计算有关的题目都是复习范围，作业题非常重要。**

**题型一：流水线性能分析 (Pipeline Performance Analysis)**
    *   (对应你笔记图片P4左侧的Exercise幻灯片)
    *   **题目描述：**
        *   给出N级流水线 (例如幻灯片中的IF, ID, EX, MEM, WB五级)。
        *   给出不同指令 (如`ADD`, `LDUR`, `STUR`, `AND`, `CBZ`) 在每个流水线阶段的执行时间 (如IF=200ps, ID=100ps等)。
    *   **常见问题 (如幻灯片所示)：**
        1.  **<1> 标记指令使用的阶段及计算执行时间 (Mark the stages the following instructions use and calculate the time to execute)：**
            *   在表格中标记出每条指令实际会经过哪些阶段 (例如，`STUR` 会用满5个阶段，而某些算术指令可能不使用MEM阶段很久)。
            *   计算单条指令顺序执行的总时间 (不考虑流水线时的总时间)。
        2.  **<2> 找出关键路径 (Which instruction(s) exercises the critical path?)：**
            *   关键路径指令是指在**单周期处理器**中执行时间最长的那条指令。
            *   做法：在第一问中，找出总执行时间最长的指令。
        3.  **<3> 计算单周期处理器的最快时钟频率 (What is the fastest you could clock this single-cycle datapath?)：**
            *   单周期处理器的时钟周期 ($T_{clk\_single}$) 由关键路径指令的执行时间决定。
            *   最快时钟频率 ($f_{single}$) = $1 / T_{clk\_single}$。
            *   **注意区分：** 如果问**流水线处理器**的最快时钟频率，则由最长的单个流水线阶段时间决定 ($T_{clk\_pipeline} = \max(\text{stage\_delays})$)。
    *   **老师提示：**
        *   标记要清晰。
        *   注意题目问的是单周期还是流水线。
        *   这类题型10-15分。

**题型二：处理器性能比较 (Processor Performance Comparison)**
    *   (对应你笔记图片P4右侧的Exercise幻灯片，以及下方的计算草稿)
    *   **题目描述 (如幻灯片)：**
        *   给出多个处理器 (P1, P2, P3) 的参数，例如：
            *   P1: Clock Rate = 3 GHz, CPI = 1.5
            *   P2: Clock Rate = 2.5 GHz, CPI = 1.0
            *   P3: Clock Rate = 4.0 GHz, CPI = 2.2
    *   **常见问题 (如幻灯片)：**
        1.  **a. 计算各处理器的指令执行速率 (IPS 或 MIPS)，比较性能 (Which processor has the highest performance expressed in instructions per second?)**
            *   公式： $IPS = \frac{\text{Clock Rate}}{CPI}$
            *   你的笔记草稿第一行 `时钟频率 / CPI P1 IPS` 正是此意。
        2.  **b. 假设处理器运行固定时间 (如10秒)，计算执行的指令数和时钟周期数 (If the processors each execute a program in 10 seconds, find the number of cycles and the number of instructions.)**
            *   时钟周期数 (Total Cycles): $Cycles = \text{Clock Rate} \times \text{Time}$
            *   指令数 (Instruction Count, IC): $IC = IPS \times \text{Time}$ 或 $IC = \frac{Cycles}{CPI}$
            *   你的笔记草稿第二行 `3x10^9 x ? = 30x10^9` (似乎是周期数或指令数的一部分计算，时间若是10s，则 P1周期数 = $3 \times 10^9 \times 10 = 30 \times 10^9$ cycles。P1指令数 = $(30 \times 10^9) / 1.5 = 20 \times 10^9$ instructions)。
        3.  **c. 性能改进分析 (We are trying to reduce the execution time by 30%, but this leads to an increase of 20% in the CPI. What clock rate should we have to get this time reduction?)** (假设指令数 $I$ 不变)
            *   原始执行时间: $T_{old} = \frac{I \times CPI_{old}}{F_{old}}$
            *   新的执行时间: $T_{new} = T_{old} \times (1 - 0.30) = 0.7 \times T_{old}$
            *   新的CPI: $CPI_{new} = CPI_{old} \times (1 + 0.20) = 1.2 \times CPI_{old}$
            *   $T_{new} = \frac{I \times CPI_{new}}{F_{new}}$
            *   联立求解 $F_{new}$： $F_{new} = F_{old} \times \frac{CPI_{new}/CPI_{old}}{T_{new}/T_{old}} = F_{old} \times \frac{1.2}{0.7}$
            *   你的笔记草稿第三行 `10 x 0.7 = 7s` (新的时间)，`1.5 x 1.2 = 1.8` (新的CPI，假设针对P1)，以及公式 $T_{CPU} = IC \times CPI \times \frac{1}{F}$ 和 $0.7T = IC \times 1.2 CPI \times \frac{1}{F'}$，最终算出 $F'$。计算 `20x10^9x1.8 / 7 = 5.1x? GHz` 正是这个思路。
    *   **老师提示：**
        *   注意单位。保留两位小数。
        *   第三问是难点，关键是理解公式 $T_{CPU} = \frac{IC \times CPI}{F}$ 中各变量的关系。

**题型三：高速缓存 (Cache) 组织与地址映射 (Cache Organization and Address Mapping)**
    *   (对应你笔记图片P5左侧的Exercise幻灯片及右侧的地址分解草稿)
    *   **题目描述 (如幻灯片)：**
        *   主存大小 (如1G main memory)，Cache大小 (如128KB Cache)，字节寻址 (byte-addressing)。
        *   数据地址 (如 `0x123456`)。
        *   要求分析不同 Cache 配置下的映射情况：
            *   直接映射 (Direct-mapped), 块大小 (如16 bytes/block 或 64 bytes/block)。
            *   N路组相联 (N-Way set associative), 块大小。
        *   计算内容：数据会映射到哪个 Cache 块 (block(s))，Tag (标记) 的值和位数，以及 Cache 的总大小 (Total cache size，考虑数据区和管理开销区)。
    *   **地址分解步骤 (如你笔记P5右侧草稿 `0x 0001 0010 0011 0100 0101 0110` (这是0x123456的二进制)，下面有 `8K Block | index | offset` 的示意)：**
        1.  **Offset (块内偏移) 位数:** $\log_2(\text{Block Size in bytes})$
            *   例如，Block Size = 16 Bytes ($2^4$) $\implies$ Offset = 4 bits.
        2.  **Index (索引/组号) 位数:**
            *   直接映射: $\log_2(\text{Number of Blocks in Cache})$
                Number of Blocks = Total Cache Size / Block Size.
                例如，128KB Cache, 16B/block: #Blocks = $128KB / 16B = (2^{17}B) / (2^4B) = 2^{13}$ 块。Index = 13 bits.
                (你笔记中 `8K Block` 可能是指 Cache 中有 8K= $2^{13}$ 个块)
            *   N路组相联: $\log_2(\text{Number of Sets in Cache})$
                Number of Sets = (Total Cache Size / Block Size) / N (路数).
        3.  **Tag (标记) 位数:** 总地址位数 - Index位数 - Offset位数。
            *   假设总地址32位 (1G主存，若字节寻址，则地址线30位，即 $2^{30}$ Bytes。0x123456 是24+位地址)。题目通常会明确总地址位数或主存容量。若1G主存，则地址30位。
            *   若地址30位，直接映射，13位Index，4位Offset $\implies$ Tag = $30 - 13 - 4 = 13$ 位。
    *   **Cache 总容量计算：**
        Total Cache Size (bits) = Number of Blocks $\times$ (Block Size in bits + Tag Size in bits + Valid bit + Dirty bit (if any) + ...)
        再转换为 Bytes 或 KB。
    *   **老师提示：**
        *   此题型较难，耗时。关键是正确进行地址切割。
        *   老师在STT中举例算过一个128KB Cache，16B/block，Tag=15位，Valid=1位的情况，总大小为 $128KB + (2^{13} \times (15+1)\text{bits}) / (8 \text{bits/byte}) = 144KB$。

**题型四：数值表示与转换 (Number Representation and Conversion)**
    *   (STT中提及，未在你的笔记图片中作为Exercise幻灯片出现，但属于书本和作业常见题)
    *   **题目描述：**
        *   给若干十六进制数，转为单精度浮点数并排序。
        *   或，一个十六进制数，转为多种类型（无符号整数、有符号补码整数、浮点数）。
    *   **复习要求：**
        *   熟练掌握 IEEE 754 单精度浮点数格式与转换。
        *   熟练掌握有符号整数的补码表示。
    *   **老师提示：** 纯计算，但可能因涉及多个数而耗时。

---

**四、 复习建议与难点提醒**

1.  **总体策略：**
    *   老师认为，认真复习，**及格不难**。
    *   **PPT中所有与计算相关的内容** 都是复习重点。
    *   **作业题极其重要**，许多考题与作业题类似或是变形。

2.  **难点题型回顾 (老师点出的“四大难题类型”，结合STT和你笔记的重点)：**
    *   **流水线性能分析题** (题型一，你笔记P4左图)。
    *   **处理器性能比较题** (题型二，你笔记P4右图，特别是第c问)。
    *   **高速缓存地址映射与容量计算题** (题型三，你笔记P5左图)。
    *   **数据通路与控制信号题** (STT中提及的作业题，涉及填写控制信号的图表题，需要根据提供的图来分析，非死记硬背)。
    *   (浮点数转换与排序题，虽然是计算，但也因繁琐易错被视为难点)

3.  **教材与资源：**
    *   **紧跟老师的PPT和讲解**。你笔记中的PPT标题是非常好的复习线索。
    *   **书本上的例题和习题** 多看多练。
    *   作业答案已在课上讲解，务必根据笔记整理清楚。
    *   对于PPT上书本没有的内容，建议重点抄录和理解。

4.  **最后提醒：**
    *   **仔细审题！** 看清题目具体问什么（单周期/流水线，哪种Cache映射等）。
    *   **计算务必细心！** 避免低级错误。
    *   **概念题要理解透彻**，能用自己的语言清晰、准确地表达。

---

希望这份结合你笔记的超详细整理能帮助你更有针对性地复习！祝你考试顺利！