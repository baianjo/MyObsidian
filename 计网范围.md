好的，我们来对这堂课的内容做一个完整的总结，帮你抓住核心要点，为明天的考试做好准备！

**一、课程核心回顾**

1.  **课程重要性**：计算机专业**核心课程**，**考研专业课**之一，基础且重要。
2.  **学习内容**：老师已删减难点，剩下的是**最基础、最核心**的部分。
3.  **课程框架**：
    *   围绕三大问题：互联网是什么 (What is the Internet?)、如何工作 (How does it work?)、协议是什么 (What is a protocol?)。
    *   **分层体系结构**是理解关键：应用层 -> 传输层 -> 网络层 (数据平面/控制平面) -> 链路层 -> 物理层。
    *   **学习重点**：每层的功能、向上/下提供的服务。
    *   **第一章 (绪论) 非常重要**，分量与其他章节相同，包含课程所有核心概念。
4.  **老师的担忧与期望**：部分同学未做作业、上课不认真，可能面临补考 (预计20人左右)。希望大家认真对待。

**二、期末考试安排与核心注意事项**

1.  **考试时间**：**明天下午 2:30 - 4:15**。
2.  **试卷语言**：**全英文试卷** (高中水平英语 + 专业词汇)。
3.  **答题要求**：
    *   **至少用英文回答三道题** (老师会标出建议题，通常是英文作答字数最少的)。
    *   可选老师建议的或自己选其他题用英文作答。
    *   **少于三道英文作答，不行！**
    *   英语不好的同学**不建议全部用英文**，老师看不懂会打叉。
4.  **禁止携带**：**字典、翻译工具、计算器**。**只能带纸和笔**。
5.  **试卷结构**：**50分是Review Question程度的送分题**。如果这部分都不会，很危险。

**三、课后习题重点复习 (老师讲解部分)**

**第一章：绪论 (Introduction)**
*   **R18 (时延计算)**:
    *   总时延 = 传输时延 ($L/R$) + 传播时延 ($D/S$)。
    *   注意题目是否特指“传播时间” ($D/S$)，按英文原意理解。
*   **P20 (多路径吞吐量)**:
    *   路径吞吐量由该路径的**瓶颈链路** (速率最小) 决定。
    *   **仅用一条路径**：求各路径吞吐量的**最大值** $\max(\min(R_{k1}, \dots), \dots)$。
    *   **同时用M条路径**：求各路径吞吐量的**总和** $\sum \min(R_{k1}, \dots)$。
    *   多路径好处：冗余、负载均衡。
*   **P21 (共享核心网络吞吐量)**: $M$ 对连接共享核心带宽 $R_R$，则每对分得 $R_R/M$。
    *   每对连接吞吐量 = $\min(R_C, R_S, R_R/M)$。
*   **P31 (报文传输与分段)**: 核心是**存储转发**。忽略传播、排队、处理时延。
    *   **不分段 (A问)**：总时间 = 链路段数 $\times$ (报文长度 / 链路速率)。例：3段，每段4s，总12s。
    *   **分段 (B问，K个分组，N段链路，每分组传输时延t)**：总时间 = $(K+N-1) \times t$。例：800分组，3段，每段5ms，总4.01s。
    *   **分段优点 (D问)**：减少时延、利于差错控制、利于负载均衡。

**第二章：应用层 (Application Layer) - 只考HTTP协议**
*   **核心概念**：Web页面存放在Web服务器，由基础HTML文档和多个对象组成。URL通过DNS解析为IP地址。
*   **P7 (获取单对象页面，需DNS)**:
    *   总时间 = DNS查询时间 $(\sum RTT_{DNS_i})$ + 建立TCP连接 $(RTT_0)$ + 请求/获取对象 $(RTT_0)$
    *   总时间 = $\sum RTT_{DNS_i} + 2RTT_0$
*   **P8 (获取含8个对象的页面，需DNS)**: $RTT_0$ 为与Web服务器的往返时延。
    *   **A. 非持久HTTP，无并行 (串行)**:
        *   总时间 = $\sum RTT_{DNS_i} + 2RTT_0 (\text{HTML}) + 8 \times 2RTT_0 (\text{对象})$
    *   **B. 非持久HTTP，5个并行连接**:
        *   总时间 = $\sum RTT_{DNS_i} + 2RTT_0 (\text{HTML}) + 2RTT_0 (\text{首轮5对象}) + 2RTT_0 (\text{次轮3对象})$
    *   **C.1. 持久HTTP + 流水线**:
        *   总时间 = $\sum RTT_{DNS_i} + RTT_0 (\text{建TCP}) + RTT_0 (\text{HTML}) + RTT_0 (\text{8对象流水线})$
    *   **C.2. 持久HTTP + 非流水线**:
        *   总时间 = $\sum RTT_{DNS_i} + RTT_0 (\text{建TCP}) + RTT_0 (\text{HTML}) + 8 \times RTT_0 (\text{8对象串行})$
    *   *考试题目会给具体数值，不会是N, K这类变量。*

**第三章：传输层 (Transport Layer)**
*   **Review Qs 核心**：
    *   **端口号**：服务器回复时，源/目的端口反转。
    *   **TCP/UDP选择**：根据应用对完整性、时延、吞吐量要求。
    *   **Socket**：TCP四元组 (源IP/端口, 目的IP/端口)，UDP二元组 (本机IP/端口)。
    *   **序号/确认号**：TCP可靠传输基础。
*   **P1 (端口号使用)**:
    *   服务器熟知端口号 (Telnet: 23) 固定；客户端临时端口号动态分配。
*   **P26 (TCP传大文件)**: MSS是数据部分长度。32位序号。
    *   **报文段数量** = $\lceil 2^{32} \text{ bytes} / \text{MSS} \rceil$。
    *   **传输总时间** = (总报文段数 $\times$ (MSS + 头部长度) $\times$ 8) / 链路速率。
*   **P27 (TCP序号Seq和确认号Ack)**:
    *   **第二个报文段Seq** = 第一个报文段Seq + 第一个报文段数据长度。
    *   **B收到Seq1 (顺序到达)，回复Ack** = Seq1 + 数据长度 (期望收到的下一字节)。
    *   **B先收到Seq2 (乱序)，回复Ack** = 仍为期望收到的Seq1的序号 (因为TCP按序接收)。

**四、其他重要事宜**

1.  **实验报告**：**本周末晚上**交学委。**过时不候，直接不及格**。
2.  **课程设计**：**25号前**交学委。**最终截止时间**。
3.  **老师最后忠告**：未复习的同学抓紧时间，挑简单题做。不要抱侥幸心理。

**备考策略建议：**
*   **优先掌握Review Questions**，这是50分的基础。
*   **重点理解老师课上讲解的Problem Questions**，特别是计算方法和核心概念。
*   **熟悉专业词汇的英文表达**，以便读懂题目。
*   **确保理解分层模型中各层基本功能。**
*   **放松心态，仔细审题！**
